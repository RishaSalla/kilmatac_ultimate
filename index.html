<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ - ุงููุณุฎุฉ ุงูููุฏุณูุฉ ุงููุณุชูุฑุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">
    
    <div id="background-canvas-layer"></div>

    <div id="master-wrapper">

        <div id="setup-screen" class="ui-screen active">
            <div class="glass-box shadow-heavy">
                <h1 class="main-glow-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
                <button class="instr-trigger" onclick="openHelp()">๐ ุฏููู ุงููุนุจ ูุงููุณุชููุงุช ุงูุดุงูู</button>
                
                <div class="form-layout">
                    <div class="input-row">
                        <input type="text" id="pXName" placeholder="ุงุณู ูุฑูู X" autocomplete="off">
                        <input type="text" id="pOName" placeholder="ุงุณู ูุฑูู O" autocomplete="off">
                    </div>

                    <div class="settings-grid">
                        <div class="select-group">
                            <label>ูุณุชูู ุงูุชุญุฏู:</label>
                            <select id="diffLevel">
                                <option value="1" selected>ุงููุณุชูู 1: ูุจุงุดุฑ (ููุงุณูู)</option>
                                <option value="2">ุงููุณุชูู 2: ุงูุนุฏุฏ ุงูููููุฏ (?)</option>
                                <option value="3">ุงููุณุชูู 3: ูุฑุงุบูู (ููููุน ุงูุฑูู 1)</option>
                                <option value="4">ุงููุณุชูู 4: ุงูููุฒุงู ุงูุญุณุงุจู</option>
                            </select>
                        </div>
                        <div class="select-group">
                            <label>ุงููุคูุช (ุซูุงูู):</label>
                            <select id="timerVal">
                                <option value="0">ุจุฏูู ููุช</option>
                                <option value="5">5 ุซูุงูู</option>
                                <option value="10" selected>10 ุซูุงูู</option>
                                <option value="20">20 ุซุงููุฉ</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="launch-btn" onclick="startGame()">ุงุจุฏุฃ ุงููุจุงุฑุงุฉ</button>
            </div>
        </div>

        <div id="game-screen" class="ui-screen hidden">
            <div class="game-interface">
                <header class="game-top-bar">
                    <div id="card-X" class="player-status-card x-theme">
                        <span id="name-X">ูุฑูู X</span>
                        <div class="mini-score">ุงููุฑุจุนุงุช: <span id="val-X">0</span></div>
                    </div>

                    <div class="timer-orb">
                        <span id="timer-display">10</span>
                    </div>

                    <div id="card-O" class="player-status-card o-theme">
                        <span id="name-O">ูุฑูู O</span>
                        <div class="mini-score">ุงููุฑุจุนุงุช: <span id="val-O">0</span></div>
                    </div>
                </header>

                <main class="game-arena">
                    <div id="grid-81-container"></div>
                </main>

                <footer class="game-bottom-bar">
                    <button class="action-btn" onclick="location.reload()">๐ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</button>
                    <button class="action-btn" onclick="toggleDisplayMode()">๐ ุชุจุฏูู ุงููุธูุฑ</button>
                </footer>
            </div>
            
            <div id="free-play-alert" class="alert-banner hidden">โก ููุฉ ุงููุนุจ ุงูุญุฑ ูุชุงุญุฉ!</div>
        </div>

        <div id="help-modal" class="full-modal hidden">
            <div class="modal-card">
                <h2>๐ ุฏููู ุงููุนุจ ุงูุดุงูู</h2>
                <div class="modal-body-scroll">
                    <h3>1. ููุทู ุงูุงุณุชุญูุงุฐ</h3>
                    <p>ุงูููุฒ ุจู 3 ูุฑุจุนุงุช ูุจูุฑุฉ ูุชุชุงููุฉ ูููุญู ุงูุณูุทุฑุฉ ุงููููุฉ. ูู ูุฑุจุน ูุจูุฑ ูุชุทูุจ ููุฒุงู ุฏุงุฎููุงู ุจู 3 ูุฑุจุนุงุช ุตุบูุฑุฉ.</p>
                    
                    <h3>2. ูุธุงู ุงูุชูุฌูู ุงูุงุญุชุฑุงูู</h3>
                    <p>ููุงู ูุนุจู ูู ุงููุฑุจุน ุงูุตุบูุฑ ูุญุฏุฏ ููุฎุตู ูู ุฃู ูุฑุจุน ูุจูุฑ ุณููุนุจ ุชุงููุงู. ุฅุฐุง ูุฌูุชู ููุฑุจุน ููุชููุ ูุญุตู ุนูู "ูุนุจ ุญุฑ".</p>

                    <h3>3. ุดุฑุญ ุงููุณุชููุงุช (1-9)</h3>
                    <ul>
                        <li><strong>ุงููุณุชูู 1:</strong> ุนูููุงุช ูุจุงุดุฑุฉุ ุฃุทุฑุงููุง ุจูู 1 ู 9.</li>
                        <li><strong>ุงููุณุชูู 2:</strong> ุทุฑู ููููุฏ ูู ุงููุนุงุฏูุฉ.</li>
                        <li><strong>ุงููุณุชูู 3:</strong> ูุฑุงุบุงู ูุชุทูุจุงู ุฑูููู (ููููุน ุงูุฑูู 1).</li>
                        <li><strong>ุงููุณุชูู 4:</strong> ููุฒุงู ุญุณุงุจู ูููุงุฒูุฉ ุงูุทุฑููู.</li>
                    </ul>
                </div>
                <button class="modal-close-btn" onclick="closeHelp()">ูููุช ุงูููุงุนุฏ</button>
            </div>
        </div>

        <div id="math-modal" class="full-modal hidden">
            <div class="math-challenge-card">
                <div class="timer-line"><div id="timer-fill"></div></div>
                <h3 id="level-tag">ุงููุณุชูู ุงูุญุณุงุจู</h3>
                <h2 id="equation-view">-- = --</h2>
                
                <div class="player-input-zone">
                    <div id="ans-preview-box">_</div>
                    <div id="correct-feedback" class="hidden">โ ุตุญูุญ</div>
                </div>

                <div class="numpad-grid">
                    <button onclick="numIn(1)">1</button><button onclick="numIn(2)">2</button><button onclick="numIn(3)">3</button>
                    <button onclick="numIn(4)">4</button><button onclick="numIn(5)">5</button><button onclick="numIn(6)">6</button>
                    <button onclick="numIn(7)">7</button><button onclick="numIn(8)">8</button><button onclick="numIn(9)">9</button>
                    <button class="btn-clear" onclick="numClear()">C</button><button onclick="numIn(0)">0</button><button class="btn-del" onclick="numDel()">โซ</button>
                </div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
