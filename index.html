<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Math X-O | ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ ุงููุทูุฑุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-mode">

    <div id="bg-animation-container"></div>

    <div id="setup-screen" class="screen">
        <div class="glass-card main-setup">
            <h1 class="neon-title">ุฅูุณ ุฃู ุงูุญุณุงุจูุฉ</h1>
            
            <div class="instructions-box">
                <h3>๐ ููู ุชูุนุจุ</h3>
                <ul>
                    <li>ูู ูุฑุจุน ุตุบูุฑ ูุชุทูุจ ุญู <strong>ุนูููุฉ ุญุณุงุจูุฉ</strong> ููุถุน ุนูุงูุชู.</li>
                    <li>ุงูููุงู ุงูุฐู ุชูุนุจ ููู ูุญุฏุฏ <strong>ุงููุฑุจุน ุงููุจูุฑ</strong> ุงูุฐู ุณููุนุจ ููู ุฎุตูู.</li>
                    <li>ุฅุฐุง ุฃุฎุทุฃุช ูู ุงูุฅุฌุงุจุฉ ุฃู ุงูุชูู ุงูููุชุ ูุตุจุญ <strong>ุงููุนุจ ุญุฑุงู</strong> ูุฎุตูู!</li>
                    <li>ุงูููุฒ ุจู 3 ูุฑุจุนุงุช ุตุบูุฑุฉ ูุชุชุงููุฉ ูููุญู ุงููุฑุจุน ุงููุจูุฑ.</li>
                </ul>
            </div>

            <div class="setup-controls">
                <div class="input-row">
                    <input type="text" id="teamXName" placeholder="ุงุณู ุงููุฑูู X">
                    <input type="text" id="teamOName" placeholder="ุงุณู ุงููุฑูู O">
                </div>

                <div class="select-row">
                    <div class="select-group">
                        <label>ููุน ุงูุนูููุงุช:</label>
                        <select id="mathOperation">
                            <option value="random">ุนุดูุงุฆู</option>
                            <option value="add">ุฌูุน (+)</option>
                            <option value="sub">ุทุฑุญ (-)</option>
                            <option value="mul">ุถุฑุจ (ร)</option>
                            <option value="div">ูุณูุฉ (รท)</option>
                        </select>
                    </div>
                    <div class="select-group">
                        <label>ุงููุคูุช:</label>
                        <select id="timerOption">
                            <option value="0">ุจุฏูู ููุช</option>
                            <option value="5">5 ุซูุงูู</option>
                            <option value="10" selected>10 ุซูุงูู</option>
                            <option value="15">15 ุซุงููุฉ</option>
                        </select>
                    </div>
                </div>

                <button id="startGameButton" class="btn-primary-neon">ุงุจุฏุฃ ุงููุนุฑูุฉ</button>
            </div>
        </div>
    </div>

    <div id="game-screen" class="screen hidden">
        <div class="top-nav">
            <button id="toggleBgBtn" class="btn-icon" title="ุชุบููุฑ ุงูุฎูููุฉ">๐ผ๏ธ</button>
            <div class="main-timer-container">
                <div id="main-timer-display">--</div>
            </div>
            <button id="toggleThemeBtn" class="btn-icon" title="ุชุจุฏูู ุงููุถุน">๐</button>
        </div>

        <div class="players-bar">
            <div id="teamX-card" class="player-card x-theme">
                <div class="player-info">
                    <span class="symbol">X</span>
                    <span id="dispXName">ุงููุฑูู X</span>
                </div>
                <div class="player-score">ุงูููุงุท: <span id="scoreX">0</span></div>
            </div>

            <div id="teamO-card" class="player-card o-theme">
                <div class="player-info">
                    <span id="dispOName">ุงููุฑูู O</span>
                    <span class="symbol">O</span>
                </div>
                <div class="player-score">ุงูููุงุท: <span id="scoreO">0</span></div>
            </div>
        </div>

        <div class="board-container">
            <div id="meta-board"></div>
        </div>

        <div id="free-move-banner" class="banner-alert hidden">
            โ๏ธ ุฎุทุฃ! ุงููุนุจ ุญุฑ ุงูุขู ููุฎุตู
        </div>
    </div>

    <div id="math-popup" class="popup hidden">
        <div class="popup-glass-card">
            <div class="progress-container">
                <div id="math-progress-bar"></div>
            </div>
            
            <div class="question-header">ุญู ุงูุนูููุฉ ูุชุฃููุฏ ุญุฑูุชู:</div>
            <h2 id="math-question-text">7 ร 8</h2>
            
            <div class="answer-section">
                <div id="answer-input-display">_</div>
                <div id="feedback-icon" class="hidden">โ</div>
            </div>

            <div class="numpad-grid">
                <button class="num-btn" data-val="1">1</button>
                <button class="num-btn" data-val="2">2</button>
                <button class="num-btn" data-val="3">3</button>
                <button class="num-btn" data-val="4">4</button>
                <button class="num-btn" data-val="5">5</button>
                <button class="num-btn" data-val="6">6</button>
                <button class="num-btn" data-val="7">7</button>
                <button class="num-btn" data-val="8">8</button>
                <button class="num-btn" data-val="9">9</button>
                <button class="num-btn clear-btn" id="clear-ans">C</button>
                <button class="num-btn" data-val="0">0</button>
                <button class="num-btn back-btn" id="backspace-ans">โซ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
